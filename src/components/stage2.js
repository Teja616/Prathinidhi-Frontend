import React, { useEffect, useState } from 'react';
import { useLocation, useNavigate } from 'react-router-dom';

// Reuse translations from Stage1 and add Stage2-specific translations
const translations = {
  en: {
    welcome: 'Welcome',
    governmentOfIndia: 'Government of India',
    ministryOfLaw: 'Ministry of Law and Justice',
    applicationForm: 'APPLICATION FORM FOR LEGAL AID / Grievance',
    legalAidApplication: 'Legal Aid / Grievance Application',
    nextStage: 'Next Stage',
    backToDashboard: 'Back to Dashboard',
    chooseItem: '-- Choose an Item --',
    stage: 'Stage',
    of: 'of',
    logout: 'ЁЯЪк Logout',
    language: 'ЁЯМР Language',
    progress: 'Progress',
    errorMessage: 'Please fill all required fields',
    progressStatus: 'Stage 2 of 6: Problem Details',
    faq: 'FAQs',
    userGuide: 'User Guide',
    govPortal: 'Government Portal',
    terms: 'Terms and Conditions',
    contact: 'Contact',
    phone: 'Phone',
    email: 'Email',
    saveDraft: 'Save Draft',
    quickLinks: 'Quick Links',
    faqs: 'FAQs',
    // Stage2 specific translations
    natureOfLegalAid: 'Nature of Legal Aid / Grievance',
    problemSummary: 'Summary of problem for which legal aid / Grievance is sought',
    enterSummaryHere: 'Text Here...',
    corruption: 'Allegation of corruption/malpractices',
    harassment: 'Allegation of harrassment/misbehaviour',
    central_misc: 'Central Govt: Miscellaneous',
    civic_amenities: 'Civic amenities/Quality of service Compensations/Refunds',
    counselling: 'Counselling and Conciliation',
    delay_decision: 'Delay in decision/implementation of decision',
    law_order: 'Law & Order',
    legal_advice: 'Legal Advice',
    legal_redress: 'Legal Redress',
    panel_defend: 'Panel Lawyer for defending court case',
    panel_newcase: 'Panel Lawyer for filing new case',
    requests: 'Requests',
    retirement_dues: 'Retirement dues',
    revenue_tax: 'Revenue/Land/Tax',
    reserved_matter: 'Scheduled castes/STs/Backward Service matters',
    social_evils: 'Social Evils',
    state_misc: 'State Govt : Miscellaneous',
    draft_application: 'To Draft an Application/Representation/Notice/Petition/Reply'
  },
  hi: {
    welcome: 'рд╕реНрд╡рд╛рдЧрдд рд╣реИ',
    governmentOfIndia: 'рднрд╛рд░рдд рд╕рд░рдХрд╛рд░',
    ministryOfLaw: 'рдХрд╛рдиреВрди рдФрд░ рдиреНрдпрд╛рдп рдордВрддреНрд░рд╛рд▓рдп',
    applicationForm: 'рдХрд╛рдиреВрдиреА рд╕рд╣рд╛рдпрддрд╛ / рд╢рд┐рдХрд╛рдпрдд рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрди рдкрддреНрд░',
    legalAidApplication: 'рдХрд╛рдиреВрдиреА рд╕рд╣рд╛рдпрддрд╛ / рд╢рд┐рдХрд╛рдпрдд рдЖрд╡реЗрджрди',
    nextStage: 'рдЕрдЧрд▓рд╛ рдЪрд░рдг',
    backToDashboard: 'рдбреИрд╢рдмреЛрд░реНрдб рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ',
    stage: 'рдЪрд░рдг',
    of: 'рдХрд╛',
    logout: 'ЁЯЪк рд▓реЙрдЧрдЖрдЙрдЯ',
    language: 'ЁЯМР рднрд╛рд╖рд╛',
    progress: 'рдкреНрд░рдЧрддрд┐',
    errorMessage: 'рдХреГрдкрдпрд╛ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдлрд╝реАрд▓реНрдб рднрд░реЗрдВ',
    progressStatus: 'рдЪрд░рдг 2 рдореЗрдВ рд╕реЗ 6: рд╕рдорд╕реНрдпрд╛ рд╡рд┐рд╡рд░рдг',
    faq: 'рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди',
    userGuide: 'рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛',
    govPortal: 'рд╕рд░рдХрд╛рд░реА рдкреЛрд░реНрдЯрд▓',
    terms: 'рдирд┐рдпрдо рдФрд░ рд╢рд░реНрддреЗрдВ',
    contact: 'рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ',
    phone: 'рдлрд╝реЛрди',
    email: 'рдИрдореЗрд▓',
    saveDraft: 'рдбреНрд░рд╛рдлреНрдЯ рд╕рд╣реЗрдЬреЗрдВ',
    quickLinks: 'рддреНрд╡рд░рд┐рдд рд▓рд┐рдВрдХ',
    faqs: 'рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди',
    // Stage2 specific translations
    natureOfLegalAid: 'рдХрд╛рдиреВрдиреА рд╕рд╣рд╛рдпрддрд╛ / рд╢рд┐рдХрд╛рдпрдд рдХреА рдкреНрд░рдХреГрддрд┐',
    problemSummary: 'рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдХрд╛рдиреВрдиреА рд╕рд╣рд╛рдпрддрд╛ / рд╢рд┐рдХрд╛рдпрдд рдХреА рдорд╛рдВрдЧ рдХреА рдЧрдИ рд╣реИ',
    enterSummaryHere: 'рдпрд╣рд╛рдВ рдЯреЗрдХреНрд╕реНрдЯ рджрд░реНрдЬ рдХрд░реЗрдВ...',
    chooseItem: '-- рдПрдХ рд╡рд┐рдХрд▓реНрдк рдЪреБрдиреЗрдВ --',
    corruption: 'рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░/рджреБрд░реБрдкрдпреЛрдЧ рдХрд╛ рдЖрд░реЛрдк',
    harassment: 'рдЙрддреНрдкреАрдбрд╝рди/рджреБрд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдЖрд░реЛрдк',
    central_misc: 'рдХреЗрдВрджреНрд░ рд╕рд░рдХрд╛рд░: рд╡рд┐рд╡рд┐рдз',
    civic_amenities: 'рдирд╛рдЧрд░рд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдПрдВ/рд╕реЗрд╡рд╛ рдХреА рдЧреБрдгрд╡рддреНрддрд╛ рдореБрдЖрд╡рдЬрд╛/рд░рд┐рдлрдВрдб',
    counselling: 'рдкрд░рд╛рдорд░реНрд╢ рдФрд░ рд╕реБрд▓рд╣',
    delay_decision: 'рдирд┐рд░реНрдгрдп/рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рджреЗрд░реА',
    law_order: 'рдХрд╛рдиреВрди рдФрд░ рд╡реНрдпрд╡рд╕реНрдерд╛',
    legal_advice: 'рдХрд╛рдиреВрдиреА рд╕рд▓рд╛рд╣',
    legal_redress: 'рдХрд╛рдиреВрдиреА рд╕рдорд╛рдзрд╛рди',
    panel_defend: 'рдореБрдХрджрдореЗ рдХреА рд░рдХреНрд╖рд╛ рд╣реЗрддреБ рдкреИрдирд▓ рд╡рдХреАрд▓',
    panel_newcase: 'рдирдП рдореБрдХрджрдореЗ рд╣реЗрддреБ рдкреИрдирд▓ рд╡рдХреАрд▓',
    requests: 'рдЕрдиреБрд░реЛрдз',
    retirement_dues: 'рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдмрдХрд╛рдпрд╛',
    revenue_tax: 'рд░рд╛рдЬрд╕реНрд╡/рднреВрдорд┐/рдХрд░',
    reserved_matter: 'рдЕрдиреБрд╕реВрдЪрд┐рдд рдЬрд╛рддрд┐/рдЬрдирдЬрд╛рддрд┐/рдкрд┐рдЫрдбрд╝реЗ рд╡рд░реНрдЧ рдХреЗ рдорд╛рдорд▓реЗ',
    social_evils: 'рд╕рд╛рдорд╛рдЬрд┐рдХ рдмреБрд░рд╛рдЗрдпрд╛рдБ',
    state_misc: 'рд░рд╛рдЬреНрдп рд╕рд░рдХрд╛рд░: рд╡рд┐рд╡рд┐рдз',
    draft_application: 'рдЖрд╡реЗрджрди/рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡/рдиреЛрдЯрд┐рд╕/рдпрд╛рдЪрд┐рдХрд╛/рдЬрд╡рд╛рдм рдХрд╛ рдорд╕реМрджрд╛ рддреИрдпрд╛рд░ рдХрд░рдирд╛'
  },
  te: {
    welcome: 'р░╕р▒Нр░╡р░╛р░Чр░др░В',
    governmentOfIndia: 'р░нр░╛р░░р░д р░кр▒Нр░░р░нр▒Бр░др▒Нр░╡р░В',
    ministryOfLaw: 'р░Ър░Яр▒Нр░Я р░ор░░р░┐р░пр▒Б р░ир▒Нр░пр░╛р░п р░ор░Вр░др▒Нр░░р░┐р░др▒Нр░╡ р░╢р░╛р░Ц',
    applicationForm: 'р░ир▒Нр░пр░╛р░п р░╕р░╣р░╛р░пр░В / р░лр░┐р░░р▒Нр░пр░╛р░жр▒Б р░Хр▒Лр░╕р░В р░жр░░р░Цр░╛р░╕р▒Нр░др▒Б р░кр░др▒Нр░░р░В',
    legalAidApplication: 'р░ир▒Нр░пр░╛р░п р░╕р░╣р░╛р░пр░В / р░лр░┐р░░р▒Нр░пр░╛р░жр▒Б р░жр░░р░Цр░╛р░╕р▒Нр░др▒Б',
    nextStage: 'р░др░░р▒Нр░╡р░╛р░д р░жр░╢',
    backToDashboard: 'р░бр░╛р░╖р▒НтАМр░мр▒Лр░░р▒Нр░бр▒НтАМр░Хр░┐ р░╡р▒Жр░ир░Хр▒Нр░Хр░┐',
    chooseItem: '-- р░Ер░Вр░╢р░╛р░ир▒Нр░ир░┐ р░Ор░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐ --',
    stage: 'р░жр░╢',
    of: 'р░▓р▒Л',
    logout: 'ЁЯЪк р░▓р░╛р░Чр▒Н р░Ер░╡р▒Бр░Яр▒Н',
    language: 'ЁЯМР р░нр░╛р░╖',
    progress: 'р░кр▒Нр░░р░Чр░др░┐',
    errorMessage: 'р░жр░пр░Ър▒Зр░╕р░┐ р░Ер░ир▒Нр░ир░┐ р░Ер░╡р░╕р░░р░ор▒Ир░и р░╡р░┐р░╡р░░р░╛р░▓р▒Б р░кр▒Вр░░р░┐р░Вр░Ър░Вр░бр░┐',
    progressStatus: 'р░жр░╢ 2 / 6: р░╕р░ор░╕р▒Нр░п р░╡р░┐р░╡р░░р░╛р░▓р▒Б',
    faq: 'р░др░░р░Ър▒Бр░Чр░╛ р░Ер░бр░┐р░Чр▒З р░кр▒Нр░░р░╢р▒Нр░ир░▓р▒Б',
    userGuide: 'р░╡р░┐р░ир░┐р░пр▒Лр░Чр░жр░╛р░░р▒Б р░Чр▒Ир░бр▒Н',
    govPortal: 'р░кр▒Нр░░р░нр▒Бр░др▒Нр░╡ р░кр▒Лр░░р▒Нр░Яр░▓р▒Н',
    terms: 'р░ир░┐р░мр░Вр░зр░ир░▓р▒Б р░ор░░р░┐р░пр▒Б р░╖р░░р░др▒Бр░▓р▒Б',
    contact: 'р░╕р░Вр░кр▒Нр░░р░жр░┐р░Вр░Ър░Вр░бр░┐',
    phone: 'р░лр▒Лр░ир▒Н',
    email: 'р░Зр░ор▒Жр░пр░┐р░▓р▒Н',
    saveDraft: 'р░бр▒Нр░░р░╛р░лр▒Нр░Яр▒НтАМр░ир▒Б р░╕р▒Зр░╡р▒Н р░Ър▒Зр░пр░Вр░бр░┐',
    quickLinks: 'р░др▒Нр░╡р░░р░┐р░д р░▓р░┐р░Вр░Хр▒Бр░▓р▒Б',
    faqs: 'р░др░░р░Ър▒Бр░Чр░╛ р░Ер░бр░┐р░Чр▒З р░кр▒Нр░░р░╢р▒Нр░ир░▓р▒Б',
    natureOfLegalAid: 'р░ир▒Нр░пр░╛р░п р░╕р░╣р░╛р░пр░В / р░лр░┐р░░р▒Нр░пр░╛р░жр▒Б р░╕р▒Нр░╡р░░р▒Вр░кр░В',
    problemSummary: 'р░ир▒Нр░пр░╛р░п р░╕р░╣р░╛р░пр░В / р░лр░┐р░░р▒Нр░пр░╛р░жр▒Б р░Хр▒Лр░╕р░В р░╕р░ор░╕р▒Нр░п р░╕р░╛р░░р░╛р░Вр░╢р░В',
    enterSummaryHere: 'р░Зр░Хр▒Нр░Хр░б р░Яр▒Жр░Хр▒Нр░╕р▒Нр░Яр▒Н р░ир░ор▒Лр░жр▒Б р░Ър▒Зр░пр░Вр░бр░┐...',
    corruption: 'р░Ер░Хр▒Нр░░р░ор░╛р░▓р▒Б/р░жр▒Бр░░р▒Нр░╡р░┐р░ир░┐р░пр▒Лр░Чр░╛р░▓ р░Жр░░р▒Лр░кр░г',
    harassment: 'р░╣р░┐р░Вр░╕/р░др░кр▒Нр░кр▒Бр░жр░┐р░жр▒Нр░жр▒Бр░мр░╛р░Яр▒Б р░Жр░░р▒Лр░кр░г',
    central_misc: 'р░Хр▒Зр░Вр░жр▒Нр░░ р░кр▒Нр░░р░нр▒Бр░др▒Нр░╡р░В: р░╡р░┐р░╡р░┐р░з',
    civic_amenities: 'р░кр▒Мр░░ р░╕р▒Мр░Хр░░р▒Нр░пр░╛р░▓р▒Б/р░╕р▒Зр░╡р░╛ р░ир░╛р░гр▒Нр░пр░д р░ир░╖р▒Нр░Яр░кр░░р░┐р░╣р░╛р░░р░╛р░▓р▒Б/р░░р░┐р░лр░Вр░бр▒НтАМр░▓р▒Б',
    counselling: 'р░╕р░▓р░╣р░╛ р░ор░░р░┐р░пр▒Б р░ор░╛р░зр▒Нр░пр░╕р▒Нр░ер░В',
    delay_decision: 'р░ир░┐р░░р▒Нр░гр░пр░В/р░Ер░ор░▓р▒Б р░Жр░▓р░╕р▒Нр░пр░В',
    law_order: 'р░╢р░╛р░Вр░др░┐ р░нр░жр▒Нр░░р░др░▓р▒Б',
    legal_advice: 'р░Ър░Яр▒Нр░Я р░╕р░▓р░╣р░╛',
    legal_redress: 'р░Ър░Яр▒Нр░Я р░кр░░р░┐р░╖р▒Нр░Хр░╛р░░р░В',
    panel_defend: 'р░Хр▒Лр░░р▒Нр░Яр▒Б р░Хр▒Зр░╕р▒Б р░░р░Хр▒Нр░╖р░г р░Хр▒Лр░╕р░В р░кр▒Нр░пр░╛р░ир▒Жр░▓р▒Н р░ир▒Нр░пр░╛р░пр░╡р░╛р░жр░┐',
    panel_newcase: 'р░Хр▒Кр░др▒Нр░д р░Хр▒Зр░╕р▒Б р░жр░╛р░Цр░▓р░╛р░Хр▒Б р░кр▒Нр░пр░╛р░ир▒Жр░▓р▒Н р░ир▒Нр░пр░╛р░пр░╡р░╛р░жр░┐',
    requests: 'р░Ер░нр▒Нр░пр░░р▒Нр░ер░ир░▓р▒Б',
    retirement_dues: 'р░░р░┐р░Яр▒Ир░░р▒НтАМр░ор▒Жр░Вр░Яр▒Н р░мр░Хр░╛р░пр░┐р░▓р▒Б',
    revenue_tax: 'р░Жр░жр░╛р░пр░В/р░нр▒Вр░ор░┐/р░кр░ир▒Нр░ир▒Б',
    reserved_matter: 'р░кр▒Нр░░р░др░┐р░╖р▒Нр░Яр░╛р░др▒Нр░ор░Х р░Хр▒Бр░▓р░╛р░▓р▒Б/р░Ьр░╛р░др▒Бр░▓р▒Б/р░╡р▒Жр░ир▒Бр░Хр░мр░бр░┐р░и р░╕р▒Зр░╡р░▓ р░Ер░Вр░╢р░╛р░▓р▒Б',
    social_evils: 'р░╕р░╛р░ор░╛р░Ьр░┐р░Х р░Ър▒Жр░бр▒Бр░▓р▒Б',
    state_misc: 'р░░р░╛р░╖р▒Нр░Яр▒Нр░░ р░кр▒Нр░░р░нр▒Бр░др▒Нр░╡р░В: р░╡р░┐р░╡р░┐р░з',
    draft_application: 'р░жр░░р░Цр░╛р░╕р▒Нр░др▒Б/р░кр▒Нр░░р░╛р░др░┐р░ир░┐р░зр▒Нр░пр░В/р░ир▒Лр░Яр▒Ар░╕р▒Б/р░Ер░░р▒Нр░Ьр▒А/р░╕р▒Нр░кр░Вр░жр░ир░ир▒Б р░др░пр░╛р░░р▒Б р░Ър▒Зр░пр░бр░В',
  },
  
  ta: {
    welcome: 'ро╡ро░ро╡рпЗро▒рпНрокрпБ',
    governmentOfIndia: 'роЗроирпНродро┐роп роЕро░роЪрпБ',
    ministryOfLaw: 'роЪроЯрпНроЯроорпН рооро▒рпНро▒рпБроорпН роирпАродро┐родрпНродрпБро▒рпИ роЕроорпИроЪрпНроЪроХроорпН',
    applicationForm: 'роЪроЯрпНроЯ роЙродро╡ро┐ / рокрпБроХро╛ро░рпН ро╡ро┐рогрпНрогрокрпНрок рокроЯро┐ро╡роорпН',
    legalAidApplication: 'роЪроЯрпНроЯ роЙродро╡ро┐ / рокрпБроХро╛ро░рпН ро╡ро┐рогрпНрогрокрпНрокроорпН',
    nextStage: 'роЕроЯрпБродрпНрод роХроЯрпНроЯроорпН',
    backToDashboard: 'роЯро╛ро╖рпНрокрпЛро░рпНроЯрпБроХрпНроХрпБ родро┐ро░рпБроорпНрокрпБ',
    chooseItem: '-- роТро░рпБ роЙро░рпБрокрпНрокроЯро┐ропрпИ родрпЗро░рпНро╡рпБроЪрпЖропрпНроХ --',
    stage: 'роХроЯрпНроЯроорпН',
    of: 'роЗройрпН',
    logout: 'ЁЯЪк ро╡рпЖро│ро┐ропрпЗро▒рпБ',
    language: 'ЁЯМР роорпКро┤ро┐',
    progress: 'роорпБройрпНройрпЗро▒рпНро▒роорпН',
    errorMessage: 'родропро╡рпБроЪрпЖропрпНродрпБ родрпЗро╡рпИропро╛рой роЕройрпИродрпНродрпБ рокроХрпБродро┐роХро│рпИропрпБроорпН рокрпВро░рпНродрпНродро┐ роЪрпЖропрпНропро╡рпБроорпН',
    progressStatus: 'роХроЯрпНроЯроорпН 2 / 6: рокро┐ро░роЪрпНроЪро┐ройрпИ ро╡ро┐ро╡ро░роЩрпНроХро│рпН',
    faq: 'роЕроЯро┐роХрпНроХроЯро┐ роХрпЗроЯрпНроХрокрпНрокроЯрпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН',
    userGuide: 'рокропройро░рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐',
    govPortal: 'роЕро░роЪрпБ рокрпЛро░рпНроЯро▓рпН',
    terms: 'ро╡ро┐родро┐роорпБро▒рпИроХро│рпН рооро▒рпНро▒рпБроорпН роиро┐рокроирпНродройрпИроХро│рпН',
    contact: 'родрпКроЯро░рпНрокрпБ',
    phone: 'родрпКро▓рпИрокрпЗроЪро┐',
    email: 'рооро┐ройрпНройроЮрпНроЪро▓рпН',
    saveDraft: 'ро╡ро░рпИро╡рпБ роЪрпЗрооро┐роХрпНроХро╡рпБроорпН',
    quickLinks: 'ро╡ро┐ро░рпИро╡рпБ роЗрогрпИрокрпНрокрпБроХро│рпН',
    faqs: 'роЕроЯро┐роХрпНроХроЯро┐ роХрпЗроЯрпНроХрокрпНрокроЯрпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН',
    natureOfLegalAid: 'роЪроЯрпНроЯ роЙродро╡ро┐ / рокрпБроХро╛ро░ро┐ройрпН родройрпНроорпИ',
    problemSummary: 'роЪроЯрпНроЯ роЙродро╡ро┐ / рокрпБроХро╛ро░рпБроХрпНроХро╛рой рокро┐ро░роЪрпНроЪро┐ройрпИропро┐ройрпН роЪрпБро░рпБроХрпНроХроорпН',
    enterSummaryHere: 'роЗроЩрпНроХрпЗ роЙро│рпНро│ро┐роЯрпБроХ...',
    corruption: 'роЕро┤рпБроХрпНроХро╛ро▒рпБ/родро╡ро▒ро╛рой роироЯрпИроорпБро▒рпИроХро│рпН роХрпБро▒рпНро▒роЪрпНроЪро╛роЯрпНроЯрпБ',
    harassment: 'родрпБройрпНрокрпБро▒рпБродрпНродро▓рпН/роорпБро▒рпИропрпАроЯрпБ роХрпБро▒рпНро▒роЪрпНроЪро╛роЯрпНроЯрпБ',
    central_misc: 'роородрпНродро┐роп роЕро░роЪрпБ: рокро▓родро░рокрпНрокроЯрпНроЯро╡рпИ',
    civic_amenities: 'роироХро░рпНрокрпНрокрпБро▒ ро╡роЪродро┐роХро│рпН/роЪрпЗро╡рпИ родро░роорпН роЗро┤рокрпНрокрпАроЯрпБ/роорпАро│ро│ро┐рокрпНрокрпБ',
    counselling: 'роЖро▓рпЛроЪройрпИ рооро▒рпНро▒рпБроорпН роЪрооро░роЪроорпН',
    delay_decision: 'роорпБроЯро┐ро╡рпБ/роЪрпЖропро▓ро╛роХрпНроХродрпНродро┐ро▓рпН родро╛роородроорпН',
    law_order: 'роЪроЯрпНроЯроорпН рооро▒рпНро▒рпБроорпН роТро┤рпБроЩрпНроХрпБ',
    legal_advice: 'роЪроЯрпНроЯ роЖро▓рпЛроЪройрпИ',
    legal_redress: 'роЪроЯрпНроЯ роиро┐ро╡ро╛ро░рогроорпН',
    panel_defend: 'роироЯрокрпНрокрпБро│рпНро│ ро╡ро┤роХрпНроХрпБроХрпНроХрпБ роЪроЯрпНроЯродрпНродро░рогро┐ роиро┐ропрооройроорпН',
    panel_newcase: 'рокрпБродро┐роп ро╡ро┤роХрпНроХрпБроХрпНроХрпБ роЪроЯрпНроЯродрпНродро░рогро┐ роиро┐ропрооройроорпН',
    requests: 'ро╡рпЗрогрпНроЯрпБроХрпЛро│рпНроХро│рпН',
    retirement_dues: 'роУропрпНро╡рпВродро┐ропродрпН родрпКроХрпИроХро│рпН',
    revenue_tax: 'ро╡ро░рпБрооро╛ройроорпН/роиро┐ро▓роорпН/ро╡ро░ро┐',
    reserved_matter: 'роЕродро┐роХро╛ро░роорпН рокрпЖро▒рпНро▒/роЗройродрпНродро┐ройро░рпН родрпКроЯро░рпНрокро╛рой роЪрпЗро╡рпИ ро╡ро┐ро╡роХро╛ро░роЩрпНроХро│рпН',
    social_evils: 'роЪроорпВроХ родрпАроорпИроХро│рпН',
    state_misc: 'рооро╛роиро┐ро▓ роЕро░роЪрпБ: рокро▓родро░рокрпНрокроЯрпНроЯро╡рпИ',
    draft_application: 'ро╡ро┐рогрпНрогрокрпНрокроорпН/родроХро╡ро▓рпН/роХрпБро▒рпНро▒роЪрпНроЪро╛роЯрпНроЯрпБ/рооройрпБ/рокродро┐ро▓рпН ро╡ро░рпИродро▓рпН'
  },
  
  bn: {
    welcome: 'рж╕рзНржмрж╛ржЧрждржо',
    governmentOfIndia: 'ржнрж╛рж░ржд рж╕рж░ржХрж╛рж░',
    ministryOfLaw: 'ржЖржЗржи ржУ ржирзНржпрж╛ржпрж╝ ржоржирзНрждрзНрж░ржгрж╛рж▓ржпрж╝',
    applicationForm: 'ржЖржЗржирж┐ рж╕рж╣рж╛ржпрж╝рждрж╛ / ржЕржнрж┐ржпрзЛржЧрзЗрж░ ржЬржирзНржп ржЖржмрзЗржжржи ржлрж░рзНржо',
    legalAidApplication: 'ржЖржЗржирж┐ рж╕рж╣рж╛ржпрж╝рждрж╛ / ржЕржнрж┐ржпрзЛржЧ ржЖржмрзЗржжржи',
    nextStage: 'ржкрж░ржмрж░рзНрждрзА ржзрж╛ржк',
    backToDashboard: 'ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи',
    chooseItem: '-- ржПржХржЯрж┐ ржЖржЗржЯрзЗржо ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --',
    stage: 'ржкрж░рзНржпрж╛ржпрж╝',
    of: 'ржПрж░',
    logout: 'ЁЯЪк рж▓ржЧржЖржЙржЯ',
    language: 'ЁЯМР ржнрж╛рж╖рж╛',
    progress: 'ржЕржЧрзНрж░ржЧрждрж┐',
    errorMessage: 'ржжржпрж╝рж╛ ржХрж░рзЗ рж╕ржм ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржШрж░ ржкрзВрж░ржг ржХрж░рзБржи',
    progressStatus: 'ржкрж░рзНржпрж╛ржпрж╝ рзи / рзм: рж╕ржорж╕рзНржпрж╛рж░ ржмрж┐ржмрж░ржг',
    faq: 'ржкрзНрж░рж╛ржпрж╝рж╢ржЗ ржЬрж┐ржЬрзНржЮрж╛рж╕рж┐ржд ржкрзНрж░рж╢рзНржирж╛ржмрж▓рж┐',
    userGuide: 'ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржирж┐рж░рзНржжрзЗрж╢рж┐ржХрж╛',
    govPortal: 'рж╕рж░ржХрж╛рж░рж┐ ржкрзЛрж░рзНржЯрж╛рж▓',
    terms: 'рж╢рж░рзНрждрж╛ржмрж▓рж┐',
    contact: 'ржпрзЛржЧрж╛ржпрзЛржЧ',
    phone: 'ржлрзЛржи',
    email: 'ржЗржорзЗрж▓',
    saveDraft: 'ржЦрж╕ржбрж╝рж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи',
    quickLinks: 'ржжрзНрж░рзБржд рж▓рж┐ржЩрзНржХрж╕ржорзВрж╣',
    faqs: 'ржкрзНрж░рж╛ржпрж╝рж╢ржЗ ржЬрж┐ржЬрзНржЮрж╛рж╕рж┐ржд ржкрзНрж░рж╢рзНржирж╛ржмрж▓рж┐',
    natureOfLegalAid: 'ржЖржЗржирж┐ рж╕рж╣рж╛ржпрж╝рждрж╛ / ржЕржнрж┐ржпрзЛржЧрзЗрж░ ржкрзНрж░ржХрзГрждрж┐',
    problemSummary: 'ржпрзЗ рж╕ржорж╕рзНржпрж╛рж░ ржЬржирзНржп ржЖржЗржирж┐ рж╕рж╣рж╛ржпрж╝рждрж╛ / ржЕржнрж┐ржпрзЛржЧ ржЪрж╛ржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗ рждрж╛рж░ рж╕ржВржХрзНрж╖рж┐ржкрзНрждрж╕рж╛рж░',
    enterSummaryHere: 'ржПржЦрж╛ржирзЗ рж▓рж┐ржЦрзБржи...',
    corruption: 'ржжрзБрж░рзНржирзАрждрж┐/ржЕржирж┐ржпрж╝ржорзЗрж░ ржЕржнрж┐ржпрзЛржЧ',
    harassment: 'рж╣ржпрж╝рж░рж╛ржирж┐/ржЕржнржмрзНржп ржЖржЪрж░ржгрзЗрж░ ржЕржнрж┐ржпрзЛржЧ',
    central_misc: 'ржХрзЗржирзНржжрзНрж░рзАржпрж╝ рж╕рж░ржХрж╛рж░: ржмрж┐ржмрж┐ржз',
    civic_amenities: 'ржирж╛ржЧрж░рж┐ржХ рж╕рзБржмрж┐ржзрж╛/ржкрж░рж┐рж╖рзЗржмрж╛рж░ ржорж╛ржи ржХрзНрж╖рждрж┐ржкрзВрж░ржг/ржлрзЗрж░ржд',
    counselling: 'ржкрж░рж╛ржорж░рзНрж╢ ржПржмржВ ржорзАржорж╛ржВрж╕рж╛',
    delay_decision: 'рж╕рж┐ржжрзНржзрж╛ржирзНржд/ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржирзЗ ржмрж┐рж▓ржорзНржм',
    law_order: 'ржЖржЗржи ржУ рж╢рзГржЩрзНржЦрж▓рж╛',
    legal_advice: 'ржЖржЗржирж┐ ржкрж░рж╛ржорж░рзНрж╢',
    legal_redress: 'ржЖржЗржирж┐ ржкрзНрж░рждрж┐ржХрж╛рж░',
    panel_defend: 'ржорж╛ржорж▓рж╛ ржкрж░рж┐ржЪрж╛рж▓ржирж╛рж░ ржЬржирзНржп ржкрзНржпрж╛ржирзЗрж▓ ржЖржЗржиржЬрзАржмрзА',
    panel_newcase: 'ржирждрзБржи ржорж╛ржорж▓рж╛рж░ ржЬржирзНржп ржкрзНржпрж╛ржирзЗрж▓ ржЖржЗржиржЬрзАржмрзА',
    requests: 'ржЕржирзБрж░рзЛржз',
    retirement_dues: 'ржЕржмрж╕рж░ ржмржХрзЗржпрж╝рж╛',
    revenue_tax: 'рж░рж╛ржЬрж╕рзНржм/ржЬржорж┐/ржХрж░',
    reserved_matter: 'рждрж╛рж▓рж┐ржХрж╛ржнрзБржХрзНржд ржЬрж╛рждрж┐/ржЙржкржЬрж╛рждрж┐/ржкрж┐ржЫрж┐ржпрж╝рзЗ ржкржбрж╝рж╛ рж╢рзНрж░рзЗржгрзАрж░ ржмрж┐рж╖ржпрж╝',
    social_evils: 'рж╕рж╛ржорж╛ржЬрж┐ржХ ржХрзБржкрзНрж░ржерж╛',
    state_misc: 'рж░рж╛ржЬрзНржп рж╕рж░ржХрж╛рж░: ржмрж┐ржмрж┐ржз',
    draft_application: 'ржЖржмрзЗржжржи/ржкрзНрж░рждрж┐ржирж┐ржзрж┐рждрзНржм/ржирзЛржЯрж┐рж╢/ржкрж┐ржЯрж┐рж╢ржи/ржЙрждрзНрждрж░рзЗрж░ ржЦрж╕ржбрж╝рж╛ рждрзИрж░рж┐'
  },
  
};

const Stage2 = () => {
  const location = useLocation();
  const navigate = useNavigate();
  const queryParams = new URLSearchParams(location.search);
  const langParam = queryParams.get('lang')?.toLowerCase() || localStorage.getItem('preferredLanguage') || 'en';
  const [t, setT] = useState(translations.en);
  const [loading, setLoading] = useState(true);
  const [formData, setFormData] = useState({
    natureOfLegalAid: '',
    problemSummary: ''
  });
  const [error, setError] = useState('');
  const [selectedLanguage, setSelectedLanguage] = useState(langParam);
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [user, setUser] = useState(null);
  const [showAnimation, setShowAnimation] = useState(false);

  // Get token and previous form data from location state or localStorage
  const token = location.state?.token || localStorage.getItem('token');
  const previousFormData = location.state?.formData || {};

  useEffect(() => {
    const selected = translations[selectedLanguage] || translations['en'];
    setT(selected);
    // Update URL with selected language
    const newUrl = new URL(window.location.href);
    newUrl.searchParams.set('lang', selectedLanguage);
    window.history.pushState({}, '', newUrl);
  }, [selectedLanguage]);

  // Verify authentication when component mounts
  useEffect(() => {
    if (!token) {
      navigate(`/login?lang=${selectedLanguage}`);
      return;
    }

    fetch('https://prathinidhi-backend-r8dj.onrender.com/dashboard', {
      method: 'GET',
      headers: {
        Authorization: `Bearer ${token}`,
        Accept: 'application/json',
      },
    })
      .then((res) => {
        if (!res.ok) throw new Error('Invalid token');
        return res.json();
      })
      .then((data) => {
        setUser(data.user);
        setIsAuthenticated(true);
      })
      .catch(() => {
        localStorage.removeItem('token');
        navigate(`/login?lang=${selectedLanguage}`);
      })
      .finally(() => setLoading(false));
  }, [token, selectedLanguage, navigate]);

  // Animation effect when component mounts
  useEffect(() => {
    setTimeout(() => {
      setShowAnimation(true);
    }, 300);
  }, []);

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData({
      ...formData,
      [name]: value
    });
  };

  const handleLanguageChange = (e) => {
    setSelectedLanguage(e.target.value);
  };

  const handleLogout = () => {
    localStorage.removeItem('token');
    navigate(`/login?lang=${selectedLanguage}`);
  };

  const handleNext = () => {
    if (!formData.natureOfLegalAid || !formData.problemSummary) {
      setError(t.errorMessage);
      // Shake animation for error
      const formElement = document.querySelector('.stage2-form');
      formElement.classList.add('shake');
      setTimeout(() => {
        formElement.classList.remove('shake');
      }, 500);
      return;
    }

    // Navigate to next stage with form data and token
    navigate('/stage3', {
      state: { 
        token,
        formData: { ...previousFormData, ...formData }
      },
      search: `?lang=${selectedLanguage}`
    });
  };

  const handleSaveDraft = () => {
    // Here you would implement logic to save the form data as a draft
    alert('Draft saved successfully!');
  };

  const handleBackToDashboard = () => {
    navigate(`/dashboard?lang=${selectedLanguage}`);
  };

  // Styles object
  const styles = {
    header: {
      backgroundColor: "#0b5394",
      color: "#fff",
      padding: "10px 0",
      position: "fixed",
      top: 0,
      width: "100%",
      zIndex: 999,
      boxShadow: "0 2px 5px rgba(0,0,0,0.1)"
    },
    headerContainer: {
      maxWidth: "1200px",
      margin: "0 auto",
      padding: "0 20px",
      display: "flex",
      justifyContent: "space-between",
      alignItems: "center"
    },
    logoSection: {
      display: "flex",
      alignItems: "center",
      gap: "15px"
    },
    logo: {
      height: "48px"
    },
    title: {
      fontSize: "26px",
      fontWeight: "bold",
      margin: 0,
      color: "white"
    },
    subtitle: {
      fontSize: "13px",
      margin: 0,
      color: "#e0e0e0"
    },
    rightNav: {
      display: 'flex',
      alignItems: 'center',
      gap: '1rem'
    },
    languageSelect: {
      padding: '0.5rem',
      borderRadius: '4px',
      border: '1px solid #d1d5db',
      background: '#f3f4f6',
      cursor: 'pointer'
    },
    logoutBtn: {
      background: '#ef4444',
      color: 'white',
      border: 'none',
      padding: '0.6rem 1.2rem',
      borderRadius: '4px',
      cursor: 'pointer',
      fontWeight: '500',
      transition: 'background 0.2s ease'
    },
    // Progress bar container
    progressContainer: {
      position: 'fixed',
      top: '80px',
      left: 0,
      width: '100%',
      backgroundColor: '#f0f4f8',
      padding: '15px 0',
      zIndex: 998,
      boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
      transition: 'all 0.3s ease'
    },
    progressInner: {
      maxWidth: '1200px',
      margin: '0 auto',
      padding: '0 20px'
    },
    progressText: {
      display: 'flex',
      justifyContent: 'space-between',
      marginBottom: '5px',
      color: '#333',
      fontWeight: 'bold'
    },
    progressBarOuter: {
      height: '12px',
      backgroundColor: '#e2e8f0',
      borderRadius: '6px',
      overflow: 'hidden'
    },
    progressBarInner: {
      height: '100%',
      width: '33.33%', // 2/6 = 33.33%
      backgroundColor: '#0b5394',
      borderRadius: '6px',
      transition: 'width 1s ease-in-out'
    },
    progressStages: {
      display: 'flex',
      justifyContent: 'space-between',
      marginTop: '5px'
    },
    progressStage: {
      width: '30px',
      height: '30px',
      borderRadius: '50%',
      backgroundColor: '#e2e8f0',
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
      fontSize: '14px',
      fontWeight: 'bold',
      color: '#666',
      transition: 'all 0.3s ease'
    },
    activeStage: {
      backgroundColor: '#0b5394',
      color: 'white',
      transform: 'scale(1.2)'
    },
    completedStage: {
      backgroundColor: '#4caf50',
      color: 'white'
    },
    // Buttons at the bottom
    buttonsContainer: {
      display: 'flex',
      justifyContent: 'space-between',
      marginTop: '30px'
    },
    buttonGroup: {
      display: 'flex',
      gap: '10px'
    },
    buttonSecondary: {
      backgroundColor: '#e2e8f0',
      color: '#333',
      border: 'none',
      borderRadius: '4px',
      padding: '10px 20px',
      cursor: 'pointer',
      transition: 'all 0.3s ease'
    },
    buttonPrimary: {
      backgroundColor: '#0b5394',
      color: 'white',
      border: 'none',
      borderRadius: '4px',
      padding: '10px 20px',
      cursor: 'pointer',
      transition: 'all 0.3s ease'
    },
    buttonSave: {
      backgroundColor: '#4caf50',
      color: 'white',
      border: 'none',
      borderRadius: '4px',
      padding: '10px 20px',
      cursor: 'pointer',
      transition: 'all 0.3s ease'
    },
    // Form styles
    formContainer: {
      backgroundColor: 'white', 
      borderRadius: '8px',
      boxShadow: '0 2px 10px rgba(0,0,0,0.1)',
      padding: '30px',
      margin: '20px 0',
      transition: 'transform 0.3s ease, opacity 0.3s ease',
    },
    formTitle: {
      color: '#0b5394',
      borderBottom: '2px solid #0b5394',
      paddingBottom: '10px',
      marginBottom: '20px'
    },
    formRow: {
      display: 'flex',
      flexDirection: 'column',
      margin: '0 0 20px',
    },
    formLabel: {
      display: 'block',
      marginBottom: '8px',
      color: '#333',
      fontWeight: '500'
    },
    formSelect: {
      width: '100%',
      padding: '10px',
      borderRadius: '4px',
      border: '1px solid #d1d5db',
      fontSize: '16px'
    },
    formTextarea: {
      width: '100%',
      padding: '10px',
      borderRadius: '4px',
      border: '1px solid #d1d5db',
      fontSize: '16px',
      minHeight: '150px',
      resize: 'vertical'
    },
    requiredField: {
      color: 'red'
    },
    errorText: {
      color: 'red',
      marginTop: '10px',
      fontWeight: 'bold',
      textAlign: 'center'
    }
  };

  if (loading) return <p style={{ textAlign: 'center', marginTop: '100px' }}>Loading...</p>;

  return (
    <div style={{ 
      fontFamily: "Segoe UI, sans-serif", 
      minHeight: '100vh', 
      display: 'flex', 
      flexDirection: 'column', 
      background: 'linear-gradient(to bottom right, #f3f4f6, #e0f2fe)',
      paddingTop: "150px" // Increased to account for fixed header and progress bar
    }}>
      <style>{`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes progressAnimation {
          from { width: 16.67%; }
          to { width: 33.33%; }
        }
        @keyframes pulse {
          0% { box-shadow: 0 0 0 0 rgba(11, 83, 148, 0.7); }
          70% { box-shadow: 0 0 0 10px rgba(11, 83, 148, 0); }
          100% { box-shadow: 0 0 0 0 rgba(11, 83, 148, 0); }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
          20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .stage2-form.shake {
          animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        .form-row {
          opacity: 0;
          transform: translateY(20px);
          animation: fadeIn 0.5s forwards;
        }
        .form-row:nth-child(1) { animation-delay: 0.2s; }
        .form-row:nth-child(2) { animation-delay: 0.4s; }
        .form-buttons { animation-delay: 0.6s; }
        .active-stage {
          animation: pulse 2s infinite;
        }
        .progress-bar-inner {
          animation: progressAnimation 1.5s ease-out forwards;
        }
        .form-select:focus, .form-textarea:focus {
          outline: none;
          border-color: #0b5394;
          box-shadow: 0 0 0 3px rgba(11, 83, 148, 0.3);
        }
        .btn-hover:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .language-selector {
          position: relative;
        }
        .language-selector select {
          appearance: none;
          padding-right: 25px;
        }
        .language-selector::after {
          content: 'тЦ╝';
          font-size: 12px;
          position: absolute;
          right: 10px;
          top: 50%;
          transform: translateY(-50%);
          pointer-events: none;
        }
        .form-container:hover {
          box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .footer { background: #111827; color: #d1d5db; padding: 2rem; margin-top: auto; }
        .footer h4 { color: white; margin-bottom: 0.5rem; }
        .footer ul { list-style: none; padding: 0; }
        .footer li { margin-bottom: 0.3rem; }
        .footer a { color: #93c5fd; text-decoration: none; }
        .footer a:hover { text-decoration: underline; }
      `}</style>
      
      {/* Header - Same as Dashboard */}
      <header style={styles.header}>
        <div style={styles.headerContainer}>
          <div style={styles.logoSection}>
            <img src="/prathinidhi.png" alt="Emblem" style={styles.logo} />
            <div>
              <h1 style={styles.title}>Prathinidhi</h1>
              <p style={styles.subtitle}>
                рд░рд╛рд╖реНрдЯреНрд░реАрдп рдмрд╣реБрднрд╛рд╖реА рд╡рд┐рдзрд┐рдХ рдлреЙрд░реНрдо рдкреЛрд░реНрдЯрд▓ | National Legal Form Portal
              </p>
            </div>
          </div>
          <div style={styles.rightNav}>
            <div className="language-selector">
              <select
                style={styles.languageSelect}
                value={selectedLanguage}
                onChange={handleLanguageChange}
              >
                <option value="en">English</option>
                <option value="hi">рд╣рд┐рдВрджреА</option>
                <option value="ta">родрооро┐ро┤рпН</option>
                <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
                <option value="bn">ржмрж╛ржВрж▓рж╛</option>
              </select>
            </div>
            <button 
              style={styles.logoutBtn} 
              onClick={handleLogout}
              className="btn-hover"
            >
              {t.logout}
            </button>
          </div>
        </div>
      </header>

      {/* Progress Bar - Fixed Position */}
      <div style={styles.progressContainer}>
        <div style={styles.progressInner}>
          <div style={styles.progressText}>
            <span>{t.progress}: {t.stage} 2 {t.of} 6</span>
            <span>{t.progressStatus}</span>
          </div>
          <div style={styles.progressBarOuter}>
            <div style={styles.progressBarInner} className="progress-bar-inner"></div>
          </div>
          <div style={styles.progressStages}>
            {[1, 2, 3, 4, 5, 6].map((stage) => (
              <div 
                key={stage} 
                style={{
                  ...styles.progressStage,
                  ...(stage === 2 ? styles.activeStage : {}),
                  ...(stage < 2 ? styles.completedStage : {})
                }}
                className={stage === 2 ? 'active-stage' : ''}
              >
                {stage}
              </div>
            ))}
          </div>
        </div>
      </div>

      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '0 20px', width: '100%' }}>
        {/* Main Form */}
        <div 
          className="stage2-form"
          style={{
            ...styles.formContainer,
            opacity: showAnimation ? 1 : 0,
            transform: showAnimation ? 'translateY(0)' : 'translateY(20px)'
          }}
        >
          <h2 style={styles.formTitle}>{t.legalAidApplication}</h2>

          {error && <div style={styles.errorText}>{error}</div>}
          
          <div className="form-row" style={styles.formRow}>
            <label style={styles.formLabel}>
              {t.natureOfLegalAid} <span style={styles.requiredField}>*</span>:
            </label>
            <select 
              name="natureOfLegalAid"
              value={formData.natureOfLegalAid}
              onChange={handleInputChange}
              style={styles.formSelect}
              className="form-select"
              required
            >
              <option value="">{t.chooseItem}</option>
                <option value="corruption">{t.corruption}</option>
                <option value="harassment">{t.harassment}</option>
                <option value="central_misc">{t.central_misc}</option>
                <option value="civic_amenities">{t.civic_amenities}</option>
                <option value="counselling">{t.counselling}</option>
                <option value="delay_decision">{t.delay_decision}</option>
                <option value="law_order">{t.law_order}</option>
                <option value="legal_advice">{t.legal_advice}</option>
                <option value="legal_redress">{t.legal_redress}</option>
                <option value="panel_defend">{t.panel_defend}</option>
                <option value="panel_newcase">{t.panel_newcase}</option>
                <option value="requests">{t.requests}</option>
                <option value="retirement_dues">{t.retirement_dues}</option>
                <option value="revenue_tax">{t.revenue_tax}</option>
                <option value="reserved_matter">{t.reserved_matter}</option>
                <option value="social_evils">{t.social_evils}</option>
                <option value="state_misc">{t.state_misc}</option>
                <option value="draft_application">{t.draft_application}</option>

            </select>
          </div>

          <div className="form-row" style={styles.formRow}>
            <label style={styles.formLabel}>
              {t.problemSummary} <span style={styles.requiredField}>*</span>:
            </label>
            <textarea 
              name="problemSummary"
              value={formData.problemSummary}
              onChange={handleInputChange}
              placeholder={t.enterSummaryHere}
              style={styles.formTextarea}
              className="form-textarea"
              required
            />
          </div>

          {/* Buttons */}
          <div className="form-row form-buttons" style={styles.buttonsContainer}>
            <button 
              onClick={handleBackToDashboard} 
              style={styles.buttonSecondary}
              className="btn-hover"
            >
              {t.backToDashboard}
            </button>
            <div style={styles.buttonGroup}>
              <button 
                onClick={handleSaveDraft} 
                style={styles.buttonSave}
                className="btn-hover"
              >
                {t.saveDraft}
              </button>
              <button 
                onClick={handleNext} 
                style={styles.buttonPrimary}
                className="btn-hover"
              >
                {t.nextStage} тЖТ
              </button>
            </div>
          </div>
        </div>
      </div>

      <footer className="footer">
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))', gap: '1.5rem' }}>
          <div>
            <h4>{t.quickLinks}</h4>
            <ul>
              <li><a href="/faqs">{t.faqs}</a></li>
              <li><a href="/user-guide">{t.userGuide}</a></li>
              <li><a href="https://www.india.gov.in/" target="_blank" rel="noopener noreferrer">{t.govPortal}</a></li>
              <li><a href="/terms-and-conditions">{t.terms}</a></li>
            </ul>
          </div>
          <div>
            <h4>{t.contact}</h4>
            <ul>
              <li>{t.phone}: +91-1234-567890</li>
              <li>{t.email}: support@prathinidhi.in</li>
            </ul>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default Stage2;